<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

        td{ 
            width: 100px;
            height: 100px;
            border: 1px solid;
            text-align: center;
            font-size: 35px;
        
      
        }
        td:hover{
            font-size: 40px;
            transition: font-size 0.5s;
            cursor: pointer;
        }
        .active {
            animation: change 0.5s;
        }

        @keyframes change{
            0% {
            opacity: 0;
            transform: scale(1);
            }
            to {
                opacity: 1;
                transform: scale(1.3);
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <table>
            <tr>
                <!-- 컬럼 인덱스 넣기  -->
                <td class="item" data-y="0" data-x="0">1</td>
                <td class="item" data-y="0" data-x="1">2</td>
                <td class="item" data-y="0" data-x="2">3</td>
                <td class="item" data-y="0" data-x="3">4</td>
                <td class="item" data-y="0" data-x="4">5</td>
            </tr>
            <tr>
                <td class="item" data-y="1" data-x="0">1</td>
                <td class="item" data-y="1" data-x="1">2</td>
                <td class="item" data-y="1" data-x="2">3</td>
                <td class="item" data-y="1" data-x="3">4</td>
                <td class="item" data-y="1" data-x="4">5</td>
            </tr>
            <tr>
                <td class="item" data-y="2" data-x="0">1</td>
                <td class="item" data-y="2" data-x="1">2</td>
                <td class="item" data-y="2" data-x="2">3</td>
                <td class="item" data-y="2" data-x="3">4</td>
                <td class="item" data-y="2" data-x="4">5</td>
            </tr>
            <tr>
                <td class="item" data-y="3" data-x="0">1</td>
                <td class="item" data-y="3" data-x="1">2</td>
                <td class="item" data-y="3" data-x="2">3</td>
                <td class="item" data-y="3" data-x="3">4</td>
                <td class="item" data-y="3" data-x="4">5</td>
            </tr>
            <tr>
                <td class="item" data-y="4" data-x="0">1</td>
                <td class="item" data-y="4" data-x="1">2</td>
                <td class="item" data-y="4" data-x="2">3</td>
                <td class="item" data-y="4" data-x="3">4</td>
                <td class="item" data-y="4" data-x="4">5</td>
            </tr>
        </table>
        <script>
            let nodelist = [...document.querySelectorAll("td")]; 
            
            let tdlist = [];
            let oneTd=[]
            let x =0;
            let y =0;

            let cnt =0; 
            let temp1 =0;
            let temp2 =0; 

            nodelist.forEach((node)=>{

                node.addEventListener("click",(e)=>{
            
                    cnt++;
                    if(cnt==1){
                        temp1 = event.target;
                      // console.log("temp1= ", temp1);
                        //console.log(temp1.getAttribute("data-x") ,":", temp1.getAttribute("data-y"));

                    }else if(cnt ==2){
                        temp2 = event.target;
                     //   console.log("temp2= ", temp2);
                        checkData();
                    }

                });

                oneTd[x] = node;
                x++;
                if(oneTd.length == 5){
                    tdlist[y] = oneTd;
                    y++;
                    oneTd = [];
                    x =0;
                }
            })

            console.log(tdlist);

       

            function checkData(){
                console.log("test")
                cnt =0;
                if(temp1==0 || temp2== 0){
                    return;
                }
                if(temp1 === temp2){
                    console.log("같은거 두번 클릭");
                    return;
                }
                let x1 = temp1.getAttribute("data-x");
                let y1 = temp1.getAttribute("data-y");

                let x2 = temp2.getAttribute("data-x");
                let y2 = temp2.getAttribute("data-y");

               // console.log("test" , tdlist[y1][x1].innerHTML);
              //  console.log("test" , tdlist[y2][x2].innerHTML);

              tdlist[y1][x1].classList.add("active");
              tdlist[y2][x2].classList.add("active");

                setTimeout(()=>{
                    let temp = tdlist[y1][x1].innerHTML;
                tdlist[y1][x1].innerHTML = tdlist[y2][x2].innerHTML;
                tdlist[y2][x2].innerHTML = temp;

                tdlist[y1][x1].classList.remove("active");
                tdlist[y2][x2].classList.remove("active");

                },300)

            }

        </script>
    </div>
</body>
</html>
